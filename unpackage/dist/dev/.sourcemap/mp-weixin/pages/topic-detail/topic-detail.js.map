{"version":3,"sources":["webpack:////Users/gaohui/study/qsbk/main.js","webpack:////Users/gaohui/study/qsbk/pages/topic-detail/topic-detail.vue?a049","webpack:////Users/gaohui/study/qsbk/pages/topic-detail/topic-detail.vue?711b","webpack:////Users/gaohui/study/qsbk/pages/topic-detail/topic-detail.vue?a4e7","webpack:////Users/gaohui/study/qsbk/pages/topic-detail/topic-detail.vue?0680","webpack:////Users/gaohui/study/qsbk/pages/topic-detail/topic-detail.vue"],"names":["createPage","Page","components","topicInfo","swiperTabHead","commonList","loadMore","data","titlepic","title","desc","totalnum","todaynum","tabIndex","tabBars","name","id","tablist","loadtext","lists","firstload","page","onLoad","e","__init","JSON","parse","detail","uni","$on","updateData","onReachBottom","loadmore","onPullDownRefresh","getList","methods","type","updateGuanZhu","updateSupport","updateComment","obj","find","val","post_id","console","log","commentnum","forEach","item","index","userid","isguanzhu","infonum","do","goodnum","setNavigationBarTitle","url","$http","get","token","err","res","error","errorCheck","arr","list","i","length","push","__format","concat","user","userpic","username","fens","video","path","share","support","dingnum","ding_count","cainum","cai_count","comment_count","sharenum","sex","userinfo","age","tabtap"],"mappings":"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","file":"pages/topic-detail/topic-detail.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/topic-detail/topic-detail.vue'\ncreatePage(Page)","import { render, staticRenderFns } from \"./topic-detail.vue?vue&type=template&id=11a89de9&\"\nimport script from \"./topic-detail.vue?vue&type=script&lang=js&\"\nexport * from \"./topic-detail.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('11a89de9', component.options)\n    } else {\n      api.reload('11a89de9', component.options)\n    }\n    module.hot.accept(\"./topic-detail.vue?vue&type=template&id=11a89de9&\", function () {\n      api.rerender('11a89de9', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Users/gaohui/study/qsbk/pages/topic-detail/topic-detail.vue\"\nexport default component.exports","export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-hbuilderx/packages/webpack-uni-nvue-loader/lib/templateLoader.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./topic-detail.vue?vue&type=template&id=11a89de9&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./topic-detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./topic-detail.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport topicInfo from \"../../components/topic/topic-info.vue\"\nimport swiperTabHead from \"../../components/index/swiper-tab-head.vue\"\nimport commonList from \"../../components/common/common-list.vue\"\nimport loadMore from \"../../components/common/load-more.vue\";\nexport default {\n\tcomponents: {\n\t\ttopicInfo,\n\t\tswiperTabHead,\n\t\tcommonList,\n\t\tloadMore\n\t},\n\tdata() {\n\t\treturn {\n\t\t\ttopicInfo: {\n\t\t\t\ttitlepic: \"../../static/demo/topicpic/13.jpeg\",\n\t\t\t\ttitle: \"忆往事，敬余生\",\n\t\t\t\tdesc: \"我是描述\",\n\t\t\t\ttotalnum: 1000,\n\t\t\t\ttodaynum: 1000,\n\t\t\t},\n\t\t\ttabIndex: 0,\n\t\t\ttabBars: [{\n\t\t\t\t\tname: \"最热\",\n\t\t\t\t\tid: \"zuire\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: \"最新\",\n\t\t\t\t\tid: \"zuixin\"\n\t\t\t\t},\n\t\t\t],\n\t\t\ttablist: [\n\t\t\t\t{ loadtext:\"上拉加载更多\",lists:[],firstload:false,page:1},\n\t\t\t\t{ loadtext:\"上拉加载更多\",lists:[],firstload:false,page:1},\n\t\t\t]\n\t\t}\n\t},\n\tonLoad(e) {\n\t\tthis.__init(JSON.parse(e.detail));\n\t\t// 开启监听\n\t\tuni.$on('updateData',this.updateData);\n\t},\n\t//上拉触底时间\n\tonReachBottom() {\n\t\t//上拉加载\n\t\tthis.loadmore();\n\t},\n\t//下拉刷新\n\tonPullDownRefresh() {\n\t\tthis.getList();\n\t},\n\tmethods: {\n\t\tupdateData(data){\n\t\t\tswitch (data.type){\n\t\t\t\tcase \"guanzhu\":\n\t\t\t\t\tthis.updateGuanZhu(data);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"support\":\n\t\t\t\t\tthis.updateSupport(data);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"updateComment\":\n\t\t\t\t\tthis.updateComment(data);\n\t\t\t\t\tbreak;\t\n\t\t\t}\n\t\t},\n\t\t// 更新评论数\n\t\tupdateComment(data){\n\t\t\t// 拿到当前对象\n\t\t\tlet obj = this.tablist[this.tabIndex].lists.find((val) => {\n\t\t\t\treturn val.id === data.post_id;\n\t\t\t})\n\t\t\tif(!obj) return;\n\t\t\tconsole.log(obj);\n\t\t\tobj.commentnum++;   // 评论数+1\n\t\t},\n\t\t// 更新关注信息\n\t\tupdateGuanZhu(data){\n\t\t\tthis.tablist[this.tabIndex].lists.forEach((item,index)=>{\n\t\t\t\tif(item.userid == data.userid){\n\t\t\t\t\titem.isguanzhu = data.data;\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t//更新顶踩\n\t\tupdateSupport(data){\n\t\t\tlet obj = this.tablist[this.tabIndex].lists.find((item)=>{\n\t\t\t\treturn item.id === data.post_id;\n\t\t\t})\n\t\t\tif(!obj || obj.infonum.index === 1) return;\n\t\t\tif (data.do == 'ding') {\n\t\t\t\tobj.infonum.index = 1;\n\t\t\t\tobj.goodnum++;\n\t\t\t}\n\t\t},\n\t\t//初始化\n\t\t__init(obj){\n\t\t\tuni.setNavigationBarTitle({title: obj.title});\n\t\t\tthis.topicInfo = obj;\n\t\t\t// 获取列表数据\n\t\t\tthis.getList();\n\t\t},\n\t\t//获取数据\n\t\tasync getList() {\n\t\t\tlet url = `/topic/${this.topicInfo.id}/post/${this.tablist[this.tabIndex].page}`;\n\t\t\tlet [err,res] = await this.$http.get(url,'',{token:true});\n\t\t\tlet error = this.$http.errorCheck(err,res,()=>{\n\t\t\t\tthis.tablist[this.tabIndex].loadtext = '上拉加载更多';\n\t\t\t},()=>{\n\t\t\t\tthis.tablist[this.tabIndex].loadtext = '上拉加载更多';\n\t\t\t});\n\t\t\tif(!error) return;\n\t\t\tlet arr = [];\n\t\t\tlet list = res.data.data.list;\n\t\t\tfor (let i = 0; i < list.length; i++) {\n\t\t\t\tarr.push(this.__format(list[i]));\n\t\t\t}\n\t\t\tthis.tablist[this.tabIndex].lists = this.tablist[this.tabIndex].page>1 ? this.tablist[this.tabIndex].lists.concat(arr) : arr;\n\t\t\tthis.tablist[this.tabIndex].firstload = true;\n\t\t\tif(list.length<10){\n\t\t\t\tthis.tablist[this.tabIndex].loadtext = '没有更多数据了';\n\t\t\t}else{\n\t\t\t\tthis.tablist[this.tabIndex].loadtext = '上拉加载更多';\n\t\t\t}\n\t\t\treturn;\n\t\t},\n\t\t// 格式转化\n\t\t__format(item){\n\t\t\treturn {\n\t\t\t\tuserid:item.user.id,\n\t\t\t\tuserpic:item.user.userpic,\n\t\t\t\tusername:item.user.username,\n\t\t\t\tisguanzhu:!!item.user.fens.length,\n\t\t\t\tid:item.id,\n\t\t\t\ttitle:item.title,\n\t\t\t\ttype:\"img\", // img:图文,video:视频\n\t\t\t\ttitlepic:item.titlepic,\n\t\t\t\tvideo:false,\n\t\t\t\tpath:item.path,\n\t\t\t\tshare:!!item.share,\n\t\t\t\tinfonum:{\n\t\t\t\t\tindex:(item.support.length>0) ? (item.support[0].type+1) : 0,//0:没有操作，1:顶,2:踩；\n\t\t\t\t\tdingnum:item.ding_count,\n\t\t\t\t\tcainum:item.cai_count,\n\t\t\t\t},\n\t\t\t\tgoodnum:item.ding_count,\n\t\t\t\tcommentnum:item.comment_count,\n\t\t\t\tsharenum:item.sharenum,\n\t\t\t\tsex:item.user.userinfo.sex,\n\t\t\t\tage:item.user.userinfo.age,\n\t\t\t}\n\t\t},\n\t\t//点击事件\n\t\ttabtap(index) {\n\t\t\tthis.tabIndex = index;\n\t\t\tthis.tablist[this.tabIndex].page = 1;\n\t\t\tthis.getList();\n\t\t},\n\t\t// //滑动事件\n\t\t// tabChange(e) {\n\t\t// \tthis.tabIndex = e.detail.current;\n\t\t// },\n\t\tloadmore() {\n\t\t\t//如果当前状态是还在加载中，或没有更多数据，直接返回\n\t\t\tif (this.tablist[this.tabIndex].loadtext != \"上拉加载更多\") {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t//修改状态\n\t\t\tthis.tablist[this.tabIndex].loadtext = \"加载中\";\n\t\t\t// 页数+1\n\t\t\tthis.tablist[this.tabIndex].page++;\n\t\t\t// 获取数据\n\t\t\tthis.getList();\n\t\t}\n\t}\n}\n"],"sourceRoot":""}
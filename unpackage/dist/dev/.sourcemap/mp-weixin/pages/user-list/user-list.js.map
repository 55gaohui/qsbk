{"version":3,"sources":["webpack:////Users/gaohui/study/qsbk/main.js","webpack:////Users/gaohui/study/qsbk/pages/user-list/user-list.vue?fa8c","webpack:////Users/gaohui/study/qsbk/pages/user-list/user-list.vue?9a71","webpack:////Users/gaohui/study/qsbk/pages/user-list/user-list.vue?5c7a","webpack:////Users/gaohui/study/qsbk/pages/user-list/user-list.vue?998f","webpack:////Users/gaohui/study/qsbk/pages/user-list/user-list.vue"],"names":["createPage","Page","name","components","swiperTabHead","userListCom","loadMore","noThing","data","tabIndex","tabbars","id","num","newslist","loadtext","lists","page","firstload","onShow","__init","onNavigationBarSearchInputClicked","uni","navigateTo","url","methods","console","log","User","counts","friend_count","withfollow_count","withfen_count","getUrl","getList","arr","currentIndex","$http","get","token","checkToken","err","res","errorCheck","list","i","length","push","__format","concat","tabtap","index","tabChange","e","detail","current","loadmore","item","userinfo","user_id","userpic","username","age","sex","isguanzhu","onNavigationBarButtonTap","navigateBack","delta"],"mappings":";;;;;;;;;;kDAAA,wCAAmB;;AAEnB;AACA,uG;AACAA,UAAU,CAACC,iBAAD,CAAV,C;;;;;;;;;;;;;ACJA;AAAA;AAAA;AAAA;AAAA;AAAwF;AAC3B;AACL;;;AAGxD;AACuK;AACvK,gBAAgB,4KAAU;AAC1B,EAAE,+EAAM;AACR,EAAE,oFAAM;AACR,EAAE,6FAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACtCf;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACNA;AAAA;AAAA;AAAA;AAAu8B,CAAgB,k6BAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACkC58B;AACdC,MAAI,EAAE,WADQ;AAEdC,YAAU,EAAE;AACXC,iBAAa,EAAbA,aADW;AAEXC,eAAW,EAAXA,WAFW;AAGXC,YAAQ,EAARA,QAHW;AAIXC,WAAO,EAAPA,OAJW,EAFE;;AAQdC,MARc,kBAQP;AACN,WAAO;AACNC,cAAQ,EAAE,CADJ;AAENC,aAAO,EAAE;AACR,QAAER,IAAI,EAAE,IAAR,EAAcS,EAAE,EAAE,QAAlB,EAA4BC,GAAG,EAAE,EAAjC,EADQ;AAER,QAAEV,IAAI,EAAE,IAAR,EAAcS,EAAE,EAAE,SAAlB,EAA6BC,GAAG,EAAE,EAAlC,EAFQ;AAGR,QAAEV,IAAI,EAAE,IAAR,EAAcS,EAAE,EAAE,OAAlB,EAA2BC,GAAG,EAAE,EAAhC,EAHQ,CAFH;;AAONC,cAAQ,EAAE,CAAC;AACTC,gBAAQ,EAAE,QADD;AAETC,aAAK,EAAE,EAFE;AAGTC,YAAI,EAAE,CAHG;AAITC,iBAAS,EAAE,KAJF,EAAD;;AAMT;AACCH,gBAAQ,EAAE,QADX;AAECC,aAAK,EAAE,EAFR;AAGCC,YAAI,EAAE,CAHP;AAICC,iBAAS,EAAE,KAJZ,EANS;;AAYT;AACCH,gBAAQ,EAAE,QADX;AAECC,aAAK,EAAE,EAFR;AAGCC,YAAI,EAAE,CAHP;AAICC,iBAAS,EAAE,KAJZ,EAZS,CAPJ,EAAP;;;;AA2BA,GApCa;AAqCdC,QArCc,oBAqCL;AACR,SAAKC,MAAL;AACA,GAvCa;AAwCdC,mCAxCc,+CAwCsB;AACnCC,OAAG,CAACC,UAAJ,CAAe;AACdC,SAAG,EAAE,kCADS,EAAf;;AAGA,GA5Ca;AA6CdC,SAAO,EAAE;AACRL,UADQ,oBACA;AACPM,aAAO,CAACC,GAAR,CAAY,KAAKC,IAAL,CAAUC,MAAtB;AACA,WAAKlB,OAAL,CAAa,CAAb,EAAgBE,GAAhB,GAAsB,KAAKe,IAAL,CAAUC,MAAV,CAAiBC,YAAjB,GAAgC,GAAhC,GAAsC,KAAKF,IAAL,CAAUC,MAAV,CAAiBC,YAAvD,GAAsE,KAA5F;AACA,WAAKnB,OAAL,CAAa,CAAb,EAAgBE,GAAhB,GAAsB,KAAKe,IAAL,CAAUC,MAAV,CAAiBE,gBAAjB,GAAoC,GAApC,GAA0C,KAAKH,IAAL,CAAUC,MAAV,CAAiBE,gBAA3D,GAA8E,KAApG;AACA,WAAKpB,OAAL,CAAa,CAAb,EAAgBE,GAAhB,GAAsB,KAAKe,IAAL,CAAUC,MAAV,CAAiBG,aAAjB,GAAiC,GAAjC,GAAuC,KAAKJ,IAAL,CAAUC,MAAV,CAAiBG,aAAxD,GAAwE,KAA9F;AACA,WAAKC,MAAL;AACA,WAAKC,OAAL;AACA,KARO;AASR;AACAD,UAVQ,oBAUA;AACP,UAAIE,GAAG,GAAG,CAAC,WAAD,EAAa,WAAb,EAAyB,QAAzB,CAAV;AACA,aAAOA,GAAG,CAAC,KAAKzB,QAAN,CAAH,GAAmB,KAAKI,QAAL,CAAc,KAAKJ,QAAnB,EAA6BO,IAAvD;AACA,KAbO;AAcR;AACMiB,WAfE;AAgBHE,4BAhBG,GAgBY,KAAK1B,QAhBjB;AAiBe,uBAAK2B,KAAL,CAAWC,GAAX,CAAe,KAAKL,MAAL,EAAf,EAA6B,EAA7B,EAAgC;AACrDM,yBAAK,EAAE,IAD8C;AAErDC,8BAAU,EAAE,IAFyC,EAAhC,CAjBf,8DAiBFC,GAjBE,YAiBEC,GAjBF;;;AAsBH,qBAAKL,KAAL,CAAWM,UAAX,CAAsBF,GAAtB,EAA0BC,GAA1B,CAtBG;AAuBN,qBAAK5B,QAAL,CAAcsB,YAAd,EAA4BrB,QAA5B,GAAqC,QAArC,CAvBM;;;AA0BP;AACIoB,mBA3BG,GA2BG,EA3BH;AA4BHS,oBA5BG,GA4BIF,GAAG,CAACjC,IAAJ,CAASA,IAAT,CAAcmC,IA5BlB;AA6BP,qBAASC,CAAT,GAAa,CAAb,EAAgBA,CAAC,GAAGD,IAAI,CAACE,MAAzB,EAAiCD,CAAC,EAAlC,EAAsC;AACrCV,qBAAG,CAACY,IAAJ,CAAS,KAAKC,QAAL,CAAcJ,IAAI,CAACC,CAAD,CAAlB,EAAsBT,YAAtB,CAAT;AACA;AACD,qBAAKtB,QAAL,CAAcsB,YAAd,EAA4BpB,KAA5B,GAAoC,KAAKF,QAAL,CAAcsB,YAAd,EAA4BpB,KAA5B,CAAkCC,IAAlC,GAAyC,CAAzC,GAA6C,KAAKH,QAAL,CAAcsB,YAAd,EAA4BpB,KAA5B,CAAkCiC,MAAlC,CAAyCd,GAAzC,CAA7C,GAA6FA,GAAjI;AACA,qBAAKrB,QAAL,CAAcsB,YAAd,EAA4BlB,SAA5B,GAAwC,IAAxC;AACA,qBAAKJ,QAAL,CAAcsB,YAAd,EAA4BrB,QAA5B,GAAsC6B,IAAI,CAACE,MAAL,GAAc,EAAd,GAAmB,SAAnB,GAA+B,QAArE,CAlCO;;;AAqCR;AACAI,UAtCQ,kBAsCDC,KAtCC,EAsCM;AACb,WAAKzC,QAAL,GAAgByC,KAAhB;AACA;AACA,UAAI,CAAC,KAAKrC,QAAL,CAAc,KAAKJ,QAAnB,EAA6BQ,SAAlC,EAA6C;AAC5C,aAAKgB,OAAL;AACA;AACD,KA5CO;AA6CR;AACAkB,aA9CQ,qBA8CEC,CA9CF,EA8CK;AACZ,WAAK3C,QAAL,GAAgB2C,CAAC,CAACC,MAAF,CAASC,OAAzB;AACA;AACA,UAAI,CAAC,KAAKzC,QAAL,CAAc,KAAKJ,QAAnB,EAA6BQ,SAAlC,EAA6C;AAC5C,aAAKgB,OAAL;AACA;AACD,KApDO;AAqDRsB,YArDQ,oBAqDCL,KArDD,EAqDQ;AACf;AACA,UAAI,KAAKrC,QAAL,CAAcqC,KAAd,EAAqBpC,QAArB,IAAiC,QAArC,EAA+C;AAC/C;AACA,WAAKD,QAAL,CAAcqC,KAAd,EAAqBpC,QAArB,GAAgC,QAAhC;AACA;AACA,WAAKD,QAAL,CAAcqC,KAAd,EAAqBlC,IAArB;AACA,WAAKiB,OAAL;AACA,KA7DO;AA8DRc,YA9DQ,oBA8DCS,IA9DD,EA8DMrB,YA9DN,EA8DmB;AAC1B,aAAO;AACNxB,UAAE,EAAC6C,IAAI,CAACC,QAAL,CAAcC,OADX;AAENC,eAAO,EAACH,IAAI,CAACG,OAFP;AAGNC,gBAAQ,EAACJ,IAAI,CAACI,QAHR;AAINC,WAAG,EAACL,IAAI,CAACC,QAAL,CAAcI,GAJZ;AAKNC,WAAG,EAACN,IAAI,CAACC,QAAL,CAAcK,GALZ;AAMNC,iBAAS,EAAC5B,YAAY,KAAK,CANrB,EAAP;;AAQA,KAvEO,EA7CK;;AAsHd6B,0BAtHc,oCAsHWZ,CAtHX,EAsHc;AAC3B,QAAIA,CAAC,CAACF,KAAF,IAAW,CAAf,EAAkB;AACjB7B,SAAG,CAAC4C,YAAJ,CAAiB;AAChBC,aAAK,EAAE,CADS,EAAjB;;AAGA;AACD,GA5Ha,E","file":"pages/user-list/user-list.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/user-list/user-list.vue'\ncreatePage(Page)","import { render, staticRenderFns } from \"./user-list.vue?vue&type=template&id=69d8906a&\"\nimport script from \"./user-list.vue?vue&type=script&lang=js&\"\nexport * from \"./user-list.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('69d8906a', component.options)\n    } else {\n      api.reload('69d8906a', component.options)\n    }\n    module.hot.accept(\"./user-list.vue?vue&type=template&id=69d8906a&\", function () {\n      api.rerender('69d8906a', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Users/gaohui/study/qsbk/pages/user-list/user-list.vue\"\nexport default component.exports","export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-hbuilderx/packages/webpack-uni-nvue-loader/lib/templateLoader.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./user-list.vue?vue&type=template&id=69d8906a&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./user-list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./user-list.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport swiperTabHead from \"../../components/index/swiper-tab-head.vue\"\nimport userListCom from \"../../components/user-list/user-list-com.vue\"\nimport loadMore from \"../../components/common/load-more.vue\";\nimport noThing from \"../../components/common/no-thing.vue\";\nexport default {\n\tname: \"user-list\",\n\tcomponents: {\n\t\tswiperTabHead,\n\t\tuserListCom,\n\t\tloadMore,\n\t\tnoThing\n\t},\n\tdata() {\n\t\treturn {\n\t\t\ttabIndex: 0,\n\t\t\ttabbars: [\n\t\t\t\t{ name: \"互关\", id: \"huguan\", num: 10 },\n\t\t\t\t{ name: \"关注\", id: \"guanzhu\", num: 10 },\n\t\t\t\t{ name: \"粉丝\", id: \"fensi\", num: 30 },\n\t\t\t],\n\t\t\tnewslist: [{\n\t\t\t\t\tloadtext: \"上拉加载更多\",\n\t\t\t\t\tlists: [],\n\t\t\t\t\tpage: 1,\n\t\t\t\t\tfirstload: false\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tloadtext: \"上拉加载更多\",\n\t\t\t\t\tlists: [],\n\t\t\t\t\tpage: 1,\n\t\t\t\t\tfirstload: false\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tloadtext: \"上拉加载更多\",\n\t\t\t\t\tlists: [],\n\t\t\t\t\tpage: 1,\n\t\t\t\t\tfirstload: false\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t},\n\tonShow() {\n\t\tthis.__init();\n\t},\n\tonNavigationBarSearchInputClicked() {\n\t\tuni.navigateTo({\n\t\t\turl: '../search/search?searchType=user'\n\t\t})\n\t},\n\tmethods: {\n\t\t__init(){\n\t\t\tconsole.log(this.User.counts);\n\t\t\tthis.tabbars[0].num = this.User.counts.friend_count < 100 ? this.User.counts.friend_count : '99+';\n\t\t\tthis.tabbars[1].num = this.User.counts.withfollow_count < 100 ? this.User.counts.withfollow_count : '99+';\n\t\t\tthis.tabbars[2].num = this.User.counts.withfen_count < 100 ? this.User.counts.withfen_count : '99+';\n\t\t\tthis.getUrl();\n\t\t\tthis.getList();\n\t\t},\n\t\t//请求地址 （互关 关注 粉丝）\n\t\tgetUrl(){\n\t\t\tlet arr = ['/friends/','/follows/','/fens/'];\n\t\t\treturn arr[this.tabIndex]+this.newslist[this.tabIndex].page;\n\t\t},\n\t\t//获取列表\n\t\tasync getList(){\n\t\t\tlet currentIndex = this.tabIndex;\n\t\t\tlet [err,res] = await this.$http.get(this.getUrl(),{},{\n\t\t\t\ttoken: true,\n\t\t\t\tcheckToken: true\n\t\t\t});\n\t\t\t//错误处理\n\t\t\tif(!this.$http.errorCheck(err,res)){\n\t\t\t\tthis.newslist[currentIndex].loadtext=\"上拉加载更多\";\n\t\t\t\treturn;\n\t\t\t} \n\t\t\t//成功\n\t\t\tlet arr = [];\n\t\t\tlet list = res.data.data.list;\n\t\t\tfor (let i = 0; i < list.length; i++) {\n\t\t\t\tarr.push(this.__format(list[i],currentIndex));\n\t\t\t}\n\t\t\tthis.newslist[currentIndex].lists = this.newslist[currentIndex].lists.page > 1 ? this.newslist[currentIndex].lists.concat(arr) : arr;\n\t\t\tthis.newslist[currentIndex].firstload = true;\n\t\t\tthis.newslist[currentIndex].loadtext= list.length < 10 ? \"没有更多数据了\" : \"上拉加载更多\";\n\t\t\treturn;\n\t\t},\n\t\t//点击事件\n\t\ttabtap(index) {\n\t\t\tthis.tabIndex = index;\n\t\t\t// 判断是否首次加载过了\n\t\t\tif (!this.newslist[this.tabIndex].firstload) {\n\t\t\t\tthis.getList();\n\t\t\t}\n\t\t},\n\t\t//滑动事件\n\t\ttabChange(e) {\n\t\t\tthis.tabIndex = e.detail.current;\n\t\t\t// 判断是否首次加载过了\n\t\t\tif (!this.newslist[this.tabIndex].firstload) {\n\t\t\t\tthis.getList();\n\t\t\t}\n\t\t},\n\t\tloadmore(index) {\n\t\t\t//如果当前状态是还在加载中，或没有更多数据，直接返回\n\t\t\tif (this.newslist[index].loadtext != \"上拉加载更多\") return;\n\t\t\t//修改状态\n\t\t\tthis.newslist[index].loadtext = \"加载中...\";\n\t\t\t//获取数据\n\t\t\tthis.newslist[index].page++;\n\t\t\tthis.getList();\n\t\t},\n\t\t__format(item,currentIndex){\n\t\t\treturn {\n\t\t\t\tid:item.userinfo.user_id,\n\t\t\t\tuserpic:item.userpic,\n\t\t\t\tusername:item.username,\n\t\t\t\tage:item.userinfo.age,\n\t\t\t\tsex:item.userinfo.sex,\n\t\t\t\tisguanzhu:currentIndex !== 2 \n\t\t\t}\n\t\t},\n\t},\n\tonNavigationBarButtonTap(e) {\n\t\tif (e.index == 0) {\n\t\t\tuni.navigateBack({\n\t\t\t\tdelta: 1\n\t\t\t});\n\t\t}\n\t},\n}\n"],"sourceRoot":""}
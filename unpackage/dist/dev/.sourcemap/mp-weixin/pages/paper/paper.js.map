{"version":3,"sources":["webpack:///D:/studyPro/qsbk/main.js","webpack:///D:/studyPro/qsbk/pages/paper/paper.vue?d861","webpack:///D:/studyPro/qsbk/pages/paper/paper.vue?4b4e","webpack:///D:/studyPro/qsbk/pages/paper/paper.vue?c41b","webpack:///D:/studyPro/qsbk/pages/paper/paper.vue?97c0","webpack:///D:/studyPro/qsbk/pages/paper/paper.vue"],"names":["createPage","Page","name","components","paperList","loadMore","paperLeftPopup","noThing","data","firstload","show","list","onPullDownRefresh","getdata","onNavigationBarButtonTap","e","index","User","navigate","url","hidepopup","showpopup","onLoad","uni","$on","findIndex","val","userid","from_id","time","Time","gettime","noreadnum","$chat","__toFirst","obj","__format","type","unshift","onShow","methods","userinfo","id","stopPullDownRefresh","getStorageSync","JSON","parse","i","length","addfriend","clear","removeStorageSync","initTabbarBadge","showToast","title"],"mappings":"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","file":"pages/paper/paper.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/paper/paper.vue'\ncreatePage(Page)","import { render, staticRenderFns } from \"./paper.vue?vue&type=template&id=20a75507&\"\nimport script from \"./paper.vue?vue&type=script&lang=js&\"\nexport * from \"./paper.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('20a75507', component.options)\n    } else {\n      api.reload('20a75507', component.options)\n    }\n    module.hot.accept(\"./paper.vue?vue&type=template&id=20a75507&\", function () {\n      api.rerender('20a75507', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"studyPro/qsbk/pages/paper/paper.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-hbuilderx/packages/webpack-uni-nvue-loader/lib/templateLoader.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./paper.vue?vue&type=template&id=20a75507&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./paper.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./paper.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport paperList from \"../../components/paper/paper-list.vue\"\nimport loadMore from \"../../components/common/load-more.vue\"\nimport paperLeftPopup from \"../../components/paper/paper-left-popup.vue\";\nimport noThing from \"../../components/common/no-thing.vue\"\nimport Time from \"../../common/time.js\"\nexport default {\n\tname: \"paper\",\n\tcomponents: {\n\t\tpaperList,\n\t\tloadMore,\n\t\tpaperLeftPopup,\n\t\tnoThing\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tfirstload: false,\n\t\t\tshow: false,\n\t\t\tlist: []\n\t\t}\n\t},\n\t//上拉加载\n\tonPullDownRefresh() {\n\t\t//获取数据\n\t\tthis.getdata();\n\t},\n\t//上拉触底事件\n\t// onReachBottom() {\n\t\t\n\t// },\n\tonNavigationBarButtonTap(e) {\n\t\tswitch (e.index) {\n\t\t\tcase 0:\n\t\t\t\tthis.User.navigate({\n\t\t\t\t\turl: '../user-list/user-list'\n\t\t\t\t});\n\t\t\t\tthis.hidepopup();\n\t\t\t\tbreak;\n\t\t\tcase 1:\n\t\t\t\tthis.showpopup();\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t},\n\tonLoad(){\n\t\tuni.$on('UserChat',(data)=>{\n\t\t\tlet index = this.list.findIndex((val) => {\n\t\t\t\treturn val.userid = data.from_id\n\t\t\t})\n\t\t\t//会话存在\n\t\t\tif(index !== -1){\n\t\t\t\tthis.list[index].data = data.data;\n\t\t\t\tthis.list[index].time = Time.gettime.gettime(data.time);\n\t\t\t\tthis.list[index].noreadnum++;\n\t\t\t\t//置顶\n\t\t\t\tthis.list = this.$chat.__toFirst(this.list,index);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t//追加\n\t\t\tlet obj = this.$chat.__format(data,{type: 'chatlist'});\n\t\t\t//格式化时间\n\t\t\tobj.time = Time.gettime.gettime(obj.time);\n\t\t\tobj.noreadnum = 1;\n\t\t\tthis.list.unshift(obj);\n\t\t})\n\t},\n\tonShow() {\n\t\tthis.getdata();\n\t},\n\tmethods: {\n\t\t// 获取数据\n\t\tgetdata() {\n\t\t\ttry{\n\t\t\t\tlet userid = this.User.userinfo.id;\n\t\t\t\tif(!userid){\n\t\t\t\t\tthis.firstload = true;\n\t\t\t\t\treturn uni.stopPullDownRefresh();\n\t\t\t\t}\n\t\t\t\tlet list = uni.getStorageSync('chatlist'+this.User.userinfo.id);\n\t\t\t\tlist = list ? JSON.parse(list) : [];\n\t\t\t\tfor (let i = 0; i < list.length; i++) {\n\t\t\t\t\tlist[i].time = Time.gettime.gettime(list[i].time);\n\t\t\t\t}\n\t\t\t\tthis.list = list;\n\t\t\t\tthis.firstload = true;\n\t\t\t}catch(e){\n\t\t\t\treturn uni.stopPullDownRefresh();\n\t\t\t}\n\t\t\tuni.stopPullDownRefresh();\n\t\t\t\n\t\t},\n\t\tshowpopup() {\n\t\t\tthis.show = true;\n\t\t},\n\t\thidepopup() {\n\t\t\tthis.show = false;\n\t\t},\n\t\taddfriend() {\n\t\t\tthis.User.navigate({\n\t\t\t\turl: '../search/search?searchType=user',\n\t\t\t})\n\t\t\tthis.hidepopup();\n\t\t},\n\t\tclear() {\n\t\t\tif(this.User.userinfo.id){\n\t\t\t\tuni.removeStorageSync('noreadnum'+this.User.userinfo.id);\n\t\t\t\tuni.removeStorageSync('chatlist'+this.User.userinfo.id);\n\t\t\t\tthis.$chat.initTabbarBadge();\n\t\t\t\tthis.getdata();\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '清除成功'\n\t\t\t\t})\n\t\t\t}\n\t\t\tthis.hidepopup();\n\t\t}\n\t}\n}\n"],"sourceRoot":""}
{"version":3,"sources":["webpack:////Users/gaohui/study/qsbk/main.js","webpack:////Users/gaohui/study/qsbk/pages/index/index.vue?0865","webpack:////Users/gaohui/study/qsbk/pages/index/index.vue?2f67","webpack:////Users/gaohui/study/qsbk/pages/index/index.vue?7713","webpack:////Users/gaohui/study/qsbk/pages/index/index.vue?1638","webpack:////Users/gaohui/study/qsbk/pages/index/index.vue"],"names":["createPage","Page","name","components","indexList","swiperTabHead","loadMore","noThing","uniNavBar","data","tabIndex","currentIndex","tabBars","newslist","onLoad","getNav","uni","$on","updateData","onNavigationBarSearchInputClicked","navigateTo","url","onNavigationBarButtonTap","e","index","User","navigate","JSON","stringify","methods","clickLeft","console","log","clickRight","openSearch","type","updateGuanZhu","updateSupport","updateList","updateComment","obj","lists","find","val","id","post_id","commentnum","findIndex","post_class_id","push","__format","forEach","item","userid","isguanzhu","value","oldindex","infonum","do","dingnum","cainum","$http","get","token","err","res","errorCheck","list","arr","arr2","i","length","classname","loadtext","page","firstload","getList","error","concat","user","userpic","username","fens","title","titlepic","video","path","share","support","ding_count","cai_count","comment_count","sharenum","tabtap","tabChange","detail","current","loadmore"],"mappings":"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","file":"pages/index/index.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/index/index.vue'\ncreatePage(Page)","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=379491af&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('379491af', component.options)\n    } else {\n      api.reload('379491af', component.options)\n    }\n    module.hot.accept(\"./index.vue?vue&type=template&id=379491af&\", function () {\n      api.rerender('379491af', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Users/gaohui/study/qsbk/pages/index/index.vue\"\nexport default component.exports","export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-hbuilderx/packages/webpack-uni-nvue-loader/lib/templateLoader.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=379491af&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport indexList from '../../components/index/index-list.vue'\nimport swiperTabHead from \"../../components/index/swiper-tab-head.vue\"\nimport loadMore from \"../../components/common/load-more.vue\"\nimport noThing from \"../../components/common/no-thing.vue\"\n\nimport uniNavBar from \"../../components/uni-nav-bar/uni-nav-bar.vue\"\n\nexport default {\n\tname: \"index\",\n\tcomponents: {\n\t\tindexList,\n\t\tswiperTabHead,\n\t\tloadMore,\n\t\tnoThing,\n\n\t\tuniNavBar\n\n\t},\n\tdata() {\n\t\treturn {\n\t\t\ttabIndex: 0,\n\t\t\tcurrentIndex: 0,\n\t\t\ttabBars: [],\n\t\t\tnewslist: []\n\t\t}\n\t},\n\tonLoad() {\n\t\tthis.getNav();\n\t\t// 开启监听\n\t\tuni.$on('updateData',this.updateData);\n\t},\n\t//监听搜索框点击事件\n\tonNavigationBarSearchInputClicked() {\n\t\tuni.navigateTo({\n\t\t\turl: \"../search/search\",\n\t\t})\n\t},\n\tonNavigationBarButtonTap(e) {\n\t\tswitch (e.index) {\n\t\t\tcase 1:\n\t\t\t\tthis.User.navigate({\n\t\t\t\t\turl: '../add-input/add-input?postclass='+JSON.stringify(this.tabBars),\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t},\n\tmethods: {\n\n\t\tclickLeft(){\n\t\t\tconsole.log('左边事件');\n\t\t},\n\t\tclickRight(){\n\t\t\tthis.User.navigate({\n\t\t\t\turl: '../add-input/add-input?postclass='+JSON.stringify(this.tabBars)\n\t\t\t})\n\t\t},\n\t\topenSearch(){\n\t\t\tuni.navigateTo({\n\t\t\t\turl: \"../search/search\",\n\t\t\t})\n\t\t},\n\n\t\t\n\t\tupdateData(data){\n\t\t\tswitch (data.type){\n\t\t\t\tcase 'guanzhu':\n\t\t\t\tthis.updateGuanZhu(data);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'support':\n\t\t\t\tthis.updateSupport(data);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"updateList\":\n\t\t\t\t\tthis.updateList(data);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"updateComment\":\n\t\t\t\t\tthis.updateComment(data);\n\t\t\t\t\tbreak;\t\t\n\t\t\t}\n\t\t},\n\t\t// 更新评论数\n\t\tupdateComment(data){\n\t\t\t// 拿到当前对象\n\t\t\tlet obj = this.newslist[this.tabIndex].lists.find((val) => {\n\t\t\t\treturn val.id === data.post_id;\n\t\t\t})\n\t\t\tif(!obj) return;\n\t\t\tconsole.log(obj);\n\t\t\tobj.commentnum++;   // 评论数+1\n\t\t},\n\t\t//更新用户发布信息\n\t\tupdateList(data){\n\t\t\t// 第一种，直接追加\n\t\t\t// 获取当前文章属于哪一类\n\t\t\tlet index = this.tabBars.findIndex((val) => {\n\t\t\t\treturn val.id = data.post_class_id;\n\t\t\t})\n\t\t\t// 添加至找的分类\n\t\t\tif (index > -1) {\n\t\t\t\tthis.tabBars[index].lists.push(__format(data));\n\t\t\t}\n\t\t\t// 第二种，重新加载当前post_class_id信息\n\t\t},\n\t\t// 更新关注信息\n\t\tupdateGuanZhu(data){\n\t\t\tthis.newslist[this.tabIndex].lists.forEach((item,index)=>{\n\t\t\t\tif(item.userid == data.userid){\n\t\t\t\t\titem.isguanzhu = data.data;\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t//更新顶踩\n\t\tupdateSupport(data){\n\t\t\t//拿到当前对象\n\t\t\tlet obj = this.newslist[this.tabIndex].lists.find(value =>{\n\t\t\t\treturn value.id == data.post_id;\n\t\t\t});\n\t\t\tif(!obj) return;\n\t\t\tlet oldindex = obj.infonum.index; // 操作前的状态\n\t\t\tobj.infonum.index = (data.do == 'ding') ? 1 : 2; // 操作后的状态\n\t\t\tif(oldindex !== 0){ //之前操作过\n\t\t\t\toldindex == 1 ? obj.infonum.dingnum-- : obj.infonum.cainum--;\n\t\t\t}\n\t\t\tif (obj.infonum.index !== 0) {  // 当前操作\n\t\t\t\tobj.infonum.index == 1 \n\t\t\t\t\t? obj.infonum.dingnum++ : obj.infonum.cainum++;\n\t\t\t}\n\t\t},\n\t\t//获取文章分类\n\t\tasync getNav(){\n\t\t\tlet [err,res] = await this.$http.get('/postclass','',{\n\t\t\t\ttoken: true\n\t\t\t});\n\t\t\tif(!this.$http.errorCheck(err,res)) return;\n\t\t\tlet list = res.data.data.list;\n\t\t\tlet arr = [];\n\t\t\tlet arr2= [];\n\t\t\tfor (let i=0; i < list.length; i++) {\n\t\t\t\tarr.push({\n\t\t\t\t\tid: list[i].id,\n\t\t\t\t\tname: list[i].classname\n\t\t\t\t});\n\t\t\t\tarr2.push({\n\t\t\t\t\tloadtext:\"上拉加载更多\",\n\t\t\t\t\tlists:[],\n\t\t\t\t\tpage:1,\n\t\t\t\t\tfirstload:false\n\t\t\t\t})\n\t\t\t}\n\t\t\tthis.tabBars = arr;\n\t\t\tthis.newslist = arr2;\n\t\t\tthis.tabBars.length > 0 && this.getList();\n\t\t},\n\t\t//获取指定列表\n\t\tasync getList(){\n\t\t\tlet currentIndex = this.tabIndex;\n\t\t\tlet url = `/postclass/${this.tabBars[this.tabIndex].id}/post/${this.newslist[this.tabIndex].page}`;\n\t\t\tlet [err,res] = await this.$http.get(url,'',{token:true});\n\t\t\tlet error = this.$http.errorCheck(err,res,()=>{\n\t\t\t\tthis.newslist[currentIndex].loadtext = '上拉加载更多';\n\t\t\t},()=>{\n\t\t\t\tthis.newslist[currentIndex].loadtext = '上拉加载更多';\n\t\t\t});\n\t\t\tif(!error) return;\n\t\t\tlet arr = [];\n\t\t\tlet list = res.data.data.list;\n\t\t\tfor (let i = 0; i < list.length; i++) {\n\t\t\t\tarr.push(this.__format(list[i]));\n\t\t\t}\n\t\t\tthis.newslist[currentIndex].lists = this.newslist[currentIndex].page>1 ? this.newslist[currentIndex].lists.concat(arr) : arr;\n\t\t\tthis.newslist[currentIndex].firstload = true;\n\t\t\tif(list.length<10){\n\t\t\t\tthis.newslist[currentIndex].loadtext = '没有更多数据了';\n\t\t\t}else{\n\t\t\t\tthis.newslist[currentIndex].loadtext = '上拉加载更多';\n\t\t\t}\n\t\t\treturn;\n\t\t},\n\t\t// 格式转化\n\t\t__format(item){\n\t\t\treturn {\n\t\t\t\tuserid:item.user.id,\n\t\t\t\tuserpic:item.user.userpic,\n\t\t\t\tusername:item.user.username,\n\t\t\t\tisguanzhu:!!item.user.fens.length,\n\t\t\t\tid:item.id,\n\t\t\t\ttitle:item.title,\n\t\t\t\ttype:\"img\", // img:图文,video:视频\n\t\t\t\ttitlepic:item.titlepic,\n\t\t\t\tvideo:false,\n\t\t\t\tpath:item.path,\n\t\t\t\tshare:!!item.share,\n\t\t\t\tinfonum:{\n\t\t\t\t\tindex:(item.support.length>0) ? (item.support[0].type+1) : 0,//0:没有操作，1:顶,2:踩；\n\t\t\t\t\tdingnum:item.ding_count,\n\t\t\t\t\tcainum:item.cai_count,\n\t\t\t\t},\n\t\t\t\tcommentnum:item.comment_count,\n\t\t\t\tsharenum:item.sharenum,\n\t\t\t}\n\t\t},\n\t\t//点击事件\n\t\ttabtap(index) {\n\t\t\tthis.tabIndex = index;\n\t\t},\n\t\t//滑动事件\n\t\ttabChange(e) {\n\t\t\tthis.tabIndex = e.detail.current;\n\t\t\tthis.getList();\n\t\t},\n\t\tloadmore(index) {\n\t\t\t//如果当前状态是还在加载中，或没有更多数据，直接返回\n\t\t\tif (this.newslist[index].loadtext != \"上拉加载更多\") {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t//修改状态\n\t\t\tthis.newslist[index].loadtext = \"加载中\";\n\t\t\tthis.newslist[this.tabIndex].page++;\n\t\t\tthis.getList();\n\t\t}\n\t}\n}\n"],"sourceRoot":""}